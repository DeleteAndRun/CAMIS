---
title: "Weighted log rank"
format: docx
---

## Introduction

<<<<<<< HEAD
```{r, message=FALSE, warning=FALSE}
library(tidyverse)
library(haven)
library(survival)
library(survminer)
library(broom)
library(nphRCT)

knitr::opts_chunk$set(echo = TRUE)

dat <- read_sas(file.path("../data/whas500.sas7bdat"))
head(dat)
```

Weighted log rank testing used in the following scenarios

```{r}
library(survival)
data<-survival::myeloid
```

```{r}
surv_obj<-Surv(data$futime,data$death)
result <- survdiff(surv_obj ~ trt, rho = 0,data = data)
print(result)
```
```{r}
?wlrt() #requires package nphRCT
WL<-wlrt(formula=Surv(futime,death)~trt,
  data=data,
  method="fh",
  rho = 0,
  gamma = 0
)
WL
(WL$z)^2  #chi-square value
1-pchisq((WL$z)^2,1) #p-value corresponding to chi-square
```